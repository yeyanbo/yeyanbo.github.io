---
layout: post
title: 编写 XSLT 时使用的一些技巧
tags: [xslt]
---

获取兄弟节点
------------------

可以获取当前节点以前的兄弟节点中最靠近该节点的一个，示例是个很完整的表示，包括命名空间和指定特定节点情况：

```` xslt
    <xsl:template match="svrl:successful-report">
        <p><xsl:value-of select="@test"/>  ||====<xsl:value-of select="(preceding-sibling::svrl:active-pattern)[last()]/@id"/>=====</p>
    </xsl:template>
````

可以从中衍生很多取值方式。

为一个元素的属性赋值
--------------------

不应直接在属性值的引号内直接使用``<xsl:value-of select="id" />``。而应该使用``<xsl:attribute>``为Element节点添加属性。

```` xslt
<xsl:template match="ruleResult">
  <fo:block font-family="Simsun" font-size="12pt" space-after.optimum="6pt" margin-left="6pt">
  <xsl:attribute name="id"><xsl:value-of select="id" /></xsl:attribute>
    ------------------------------
    规则结果
    ------------------------------
  </fo:block>
</xsl:template>
````



